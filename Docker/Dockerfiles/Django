# Pull base image
FROM python:latest

# Set environment variables
ENV PYTHONDONTWRITEBYTECODE 1
ENV PYTHONUNBUFFERED 1

# Install dependencies
RUN pip install pipenv
RUN pip install uvicorn

RUN mkdir /api
WORKDIR /api
COPY ./backend/Pipfile* /api/

RUN pipenv install --system --deploy --ignore-pipfile
COPY ./backend/ /api/